alias gswitch='git switch $(git branch | fzf --height=20% --reverse --info=inline)'
alias finduc='grep -o "# .*" ~/work/useful_commands.txt'

getuc () {
  while getopts 'oe' c
  do
    case $c in
      o) ONLY_COMMANDS=true ;;
      e) WRITE_OUT=true ;;
    esac
  done

  COMMAND_TITLE=$(finduc | fzf)
  COMMANDS=$(sed -n "/${COMMAND_TITLE}/,/##/p" ~/work/useful_commands.txt)

  if [[ -n "$ONLY_COMMANDS" ]] then
    COMMANDS=$(echo $COMMANDS | grep -v "#.*" | grep -v "//.*" | grep -v -e '^$') 
  fi
  
  if [[ -n "$WRITE_OUT" ]] then
    echo $COMMANDS > ~/work/useful_commands_tmp.txt
  else
    echo $COMMANDS
  fi

  unset ONLY_COMMANDS
  unset WRITE_OUT
}

alias searchuc='print -z -- $(getuc -oe; cat ~/work/useful_commands_tmp.txt | fzf)'
